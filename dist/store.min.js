/*! storejs v1.0.16 | MIT (c) 2017 kenny wang <wowohoo@qq.com> | https://github.com/jaywcjlove/store.js */
!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.store=f()}}(function(){function isJSON(obj){return"object"==typeof obj&&"[object object]"===Object.prototype.toString.call(obj).toLowerCase()&&!obj.length}function stringify(val){return void 0===val||"function"==typeof val?val+"":JSON.stringify(val)}function deserialize(value){if("string"==typeof value)try{return JSON.parse(value)}catch(e){return value||void 0}}function isFunction(value){return"[object Function]"==={}.toString.call(value)}function isArray(value){return value instanceof Array}function dealIncognito(storage){var _KEY="_Is_Incognit",_VALUE="yes";try{storage.setItem(_KEY,_VALUE)}catch(e){if("QuotaExceededError"===e.name){var _nothing=function(){};storage.__proto__={setItem:_nothing,getItem:_nothing,removeItem:_nothing,clear:_nothing}}}finally{storage.getItem(_KEY)===_VALUE&&storage.removeItem(_KEY)}return storage}function Store(){return this instanceof Store?void 0:new Store}if(window.localStorage){var store,storage=window.localStorage,even_storage=function(){};storage=dealIncognito(storage),Store.prototype={set:function(key,val){if(even_storage("set",key,val),key&&!isJSON(key))storage.setItem(key,stringify(val));else if(key&&isJSON(key)&&!val)for(var a in key)this.set(a,key[a]);return this},get:function(key){if(!key){var ret={};return this.forEach(function(key,val){ret[key]=val}),ret}return"?"===key.charAt(0)?this.has(key.substr(1)):deserialize(storage.getItem(key))},clear:function(){return this.forEach(function(key,val){even_storage("clear",key,val)}),storage.clear(),this},remove:function(key){var val=this.get(key);return storage.removeItem(key),even_storage("remove",key,val),val},has:function(key){return{}.hasOwnProperty.call(this.get(),key)},keys:function(){var d=[];return this.forEach(function(k,list){d.push(k)}),d},size:function(){return this.keys().length},forEach:function(callback){for(var i=0;i<storage.length;i++){var key=storage.key(i);if(callback(key,this.get(key))===!1)break}return this},search:function(str){for(var arr=this.keys(),dt={},i=0;i<arr.length;i++)arr[i].indexOf(str)>-1&&(dt[arr[i]]=this.get(arr[i]));return dt},onStorage:function(cb){return cb&&isFunction(cb)&&(even_storage=cb),this}},store=function(key,data){var argm=arguments,_Store=Store(),dt=null;if(0===argm.length)return _Store.get();if(1===argm.length){if("string"==typeof key)return _Store.get(key);if(isJSON(key))return _Store.set(key)}if(2===argm.length&&"string"==typeof key){if(!data)return _Store.remove(key);if(data&&"string"==typeof data)return _Store.set(key,data);if(data&&isFunction(data))return dt=null,dt=data(key,_Store.get(key)),dt?store.set(key,dt):store}if(2===argm.length&&isArray(key)&&isFunction(data)){for(var i=0;i<key.length;i++)dt=data(key[i],_Store.get(key[i])),store.set(key[i],dt);return store}};for(var a in Store.prototype)store[a]=Store.prototype[a];return store}});

